<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="shortcut icon" href="./assets/images/favicon (5).ico" />
  <title>Spork</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./assets/css/uikit.min.css" />

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>

  <!-- UIkit CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/css/uikit.min.css" />

  <!-- UIkit JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/js/uikit.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/js/uikit-icons.min.js"></script>

  <link rel="stylesheet" type="text/css" href="./assets/css/style.css">

  <style>
    body {
      background-image: url("./assets/images/wood.jpg");
    }
  </style>
</head>

<body>
  <!-- Header -->
  <h1 class="uk-heading-line uk-text-center"><span>Spork</span></h1>
  <h2 class="uk-heading-line uk-text-center"><span>meal prep made easy</span></h2>

  <!-- Navigation Bar -->
  <nav class="uk-navbar-container" uk-navbar>
    <div class="uk-navbar-right">

      <ul class="uk-navbar-nav">
        <li>
          <a href="#">More Spork</a>
          <div class="uk-navbar-dropdown">
            <ul class="uk-nav uk-navbar-dropdown-nav">
              <li class="uk-active"><a href="#">Meal Prep</a></li>
              <li class="uk-active"><a href="#">About Spork</a></li>
              <li class="uk-active"><a href="#">Feedback</a></li>
            </ul>
          </div>
        </li>
      </ul>

    </div>
  </nav>

  <!-- Food Selection Field -->
  <div>
    <h3 class="uk-heading-bullet">Food Selection</h3>
    <input class="uk-input uk-form-width-medium" type="text" placeholder="Quantity / Portion Size" id="quantity">

    <select class="uk-button uk-button-default" id="size">
      <option value="">Portion Type</option>
      <option value="ounces">Ounce(s)</option>
      <option value="cup">Cup(s)</option>
      <option value="pound">Pound(s)</option>
      <option value="small">Small</option>
      <option value="large">Large</option>
    </select>

    <input class="uk-input uk-form-width-medium" type="text" placeholder="Input Food" id="food-name">
    <button class="uk-button uk-button-secondary uk-button-small" id="search-button">Get Food Facts</button>
  </div>

  <!-- Nutrition Facts Field -->
  <div style="float:left">
    <h3 class="uk-heading-bullet">Nutrition Facts</h3>
    <p>Food: <span id="food"></span></p>
    <p>Calories: <span id="calories"></span></p>
    <p>Carbs: <span id="carbs"></span></p>
    <p>Protein: <span id="protein"></span></p>
    <p>Fat: <span id="fat"></span></p>

    <button class="uk-button uk-button-secondary uk-button-small" id="add-ingredient">Add Ingredient</button>
  </div>

  <!-- How Spork Works Field -->
  <div style="float:right">
    <div class="uk-child-width-1-2@m uk-grid-match" uk-grid>
      <div>
        <div class="uk-card uk-card-default uk-card-body" uk-scrollspy="cls: uk-animation-slide-left; repeat: true"
          style="background-image: url('./assets/images/card1food.jpg')">
          <h3 class="uk-card-title">Spork One</h3>
          <p>Select your food and portion sizes.</p>
          <p>Like your food selection? Add it to the ingredient table!</p>
        </div>
      </div>
      <div>
        <div class="uk-card uk-card-default uk-card-body" uk-scrollspy="cls: uk-animation-slide-right; repeat: true"
          style="background-image: url('./assets/images/card2food.jpg')">
          <h3 class="uk-card-title">Spork Two</h3>
          <p>Once your ingredient table is complete, find a recipe just for you!</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Ingredients Table Field -->
  <div style="clear:both">
    <h3 class="uk-heading-bullet">Ingredient Table</h3>
    <table class="uk-table uk-table-striped" id="ingredients">
      <tr>
        <th>Ingredient</th>
        <th>Calories</th>
      </tr>
    </table>
    <div>Total Ingredients Calories: <span id="total-ingredients-calories"></span></div>

    <button class="uk-button uk-button-secondary uk-button-small" id="find-recipes">Find Recipes</button>
  </div>

  <!-- Recipes Field -->
  <div>
    <h3 class="uk-heading-bullet">Recipes for You</h3>
    <table class="uk-table uk-table-striped" id="recipes-table">
      <tr>
        <th>Recipe Name</th>
        <th></th>
        <th>Total Calories</th>
      </tr>
    </table>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="assets/javascript/menu.js"></script>

  <script type="text/javascript">

    var YOUR_APP_ID = '060d6c07';
    var YOUR_APP_KEY = '4caf8f45e89f735e57b03965c8dc01b8';

    $('button').on('click', function () {
      var food = $("#food-name").val();
      var quantity = $("#quantity").val();
      var size = $("#size").val();
      var searchString = quantity + " " + size + " " + food;

      $.ajax({
        url: `https://api.edamam.com/api/nutrition-data?app_id=${YOUR_APP_ID}&app_key=${YOUR_APP_KEY}&ingr=${searchString}`,
        method: "GET"
      }).then(function (response) {
        console.log(response);
        $('#food').text(food);
        $('#calories').text(response.calories);
        $('#carbs').text(response.totalNutrients.CHOCDF.quantity);
        $('#protein').text(response.totalNutrients.PROCNT.quantity);
        $('#fat').text(response.totalNutrients.FAT.quantity);
      })
    });

  </script>

</body>

</html>